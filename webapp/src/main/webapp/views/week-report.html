<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="keywords" content="Hosto, Photography, Photo Images, Responsive, Business, Corporate, Gallery, Notebook" />
<meta name="description" content="Hosto" />
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;" />
<link href="style.css" rel="stylesheet" type="text/css" />
<link href="js/superfish/superfish.css" rel="stylesheet" type="text/css" media="screen" />
<link href="js/fancybox/jquery.fancybox-1.3.4.css" rel="stylesheet" type="text/css" />
<link href="settings/styling.css" rel="stylesheet" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="#" href="#" />
<link rel="shortcut icon" href="#" />

<link href="//netdna.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" />
    
<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="js/nav-small.js"></script>
<script type="text/javascript" src="js/scrolltop.js"></script>
<script type="text/javascript" src="js/flickr/jflickrfeed.min.js"></script>
<script type="text/javascript" src="js/flickr/setup.js"></script>
<script type="text/javascript" src="js/fancybox/jquery.mousewheel-3.0.4.pack.js"></script>
<script type="text/javascript" src="js/fancybox/jquery.fancybox-1.3.4.pack.js"></script>
<script type="text/javascript" src="js/fancybox/jquery.fancybox-1.3.4.js"></script>
<script type="text/javascript" src="js/superfish/superfish.js"></script>
<script type="text/javascript" src="js/jquery.cycle.all.js"></script>
<script type="text/javascript" src="js/tipsy/jquery.tipsy.js"></script>
<script type='text/javascript'>
	$(function() {    
		$('.sociable li a img').tipsy({gravity: 'n'});		
	});
</script>
<script type="text/javascript" src="js/selectbox.js"></script>
<script type="text/javascript" src="js/css3-mediaqueries.js"></script>
<script type="text/javascript" src="js/jquery.tweet.js"></script>
<script type="text/javascript">
	jQuery(function($){
		$("#tweet").tweet({
			avatar_size: 32,
			count: 2,
		query: "themeforest",
		loading_text: "Loading Tweets..."
		});
	});
</script>
<title>Hosto</title>
</head>
<body>
<div class="container-wrap" id="cap"></div>
<!--HEADER-->
<div id="header" class="clear">
  <div class="header-wrapper">
    <!--LOGO-->
    <div class="logo">
      <h1><a href="index.html"><img src="img/logo.png" alt="" title="" /></a></h1>
    </div>
    <!--MENU-->
    <nav id = "main-nav-menu">
      <ul class="sf-menu">
        <li><a href="index.html">Home</a>
          <ul>
            <li><a href="index.html">Main Homepage</a></li>
            <li><a href="index-scrolling.html">Scrolling Homepage</a></li>
            <li><a href="index-hosting.html">Hosting Homepage 1</a></li>
            <li><a href="index-hosting2.html">Hosting Homepage 2</a></li>
            <li><a href="index-beauty.html">Beauty Homepage</a></li>
            <li><a href="index-alternate.html">Sidebar Homepage</a></li>
            <li> <a href="#">Sliders</a>
              <ul>
                <li><a href="index-flex.html">FlexSlider</a></li>
                <li><a href="index-nivo.html">Nivo Slider</a></li>
                <li><a href="index-coin.html">Coin Slider</a></li>
                <li><a href="index-elasticslide.html">Elastic Slider</a></li>
                <li><a href="index-alternate.html">Image Rotator</a></li>
                <li><a href="index-slideshow.html">Simple Slideshow</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#">Pages</a>
          <ul>
            <li><a href="#">Fullwidth Pages</a>
              <ul>
                <li><a href="about-fullwidth.html">About Fullwidth</a></li>
                <li><a href="services-fullwidth.html">Services Fullwidth</a></li>
                <li><a href="product-fullwidth.html">Product Fullwidth</a></li>
                <li><a href="price-fullwidth.html">Price Fullwidth</a></li>
                <li><a href="price-chart-fullwidth.html">Price Chart</a></li>
                <li><a href="404-page.html">404 Page</a></li>
                <li><a href="fullwidth.html">Fullwidth</a></li>
              </ul>
            </li>
            <li><a href="#">Right Sidebar Pages</a>
              <ul>
                <li><a href="about.html">About Sidebar</a></li>
                <li><a href="services.html">Services Sidebar</a></li>
                <li><a href="product.html">Product Sidebar</a></li>
                <li><a href="price.html">Price Sidebar</a></li>
              </ul>
            </li>
            <li><a href="#">Left Sidebar Pages</a>
              <ul>
                <li><a href="left-sidebar.html">Left Sidebar</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li> <a href="#">Elements</a>
          <ul>
            <li><a href="elements.html">Elements</a></li>
            <li><a href="#">Other Elements</a>
              <ul>
                <li><a href="headings.html">Headings</a></li>
                <li><a href="blockquotes.html">Blockquotes</a></li>
                <li><a href="dropcaps.html">Dropcaps</a></li>
                <li><a href="list-icons.html">List Icons</a></li>
                <li><a href="buttons.html">CSS3 Buttons</a></li>
                <li><a href="notification.html">Notifications</a></li>
                <li><a href="tables.html">Tables</a></li>
                <li><a href="tabs-accordion.html">Tabs &amp; Accordion</a></li>
                <li><a href="columns-fullwidth.html">Columns Fullwidth</a></li>
                <li><a href="columns.html">Columns Left Sidebar</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#">Gallery</a>
          <ul>
            <li><a href="#">Gallery Fullwidth</a>
              <ul>
                <li><a href="gallery-1col-fullwidth.html">One Column Fullwidth</a></li>
                <li><a href="gallery-2cols-fullwidth.html">Two Columns Fullwidth</a></li>
                <li><a href="gallery-3cols-fullwidth.html">Three Columns Fullwidth</a></li>
                <li><a href="gallery-4cols-fullwidth.html">Four Columns Fullwidth</a></li>
              </ul>
            </li>
            <li><a href="#">Gallery Sidebar</a>
              <ul>
                <li><a href="gallery-1col.html">One Column</a></li>
                <li><a href="gallery-2cols.html">Two Columns</a></li>
                <li><a href="gallery-3cols.html">Three Columns</a></li>
              </ul>
            </li>
            <li><a href="#">Gallery Filterable</a>
              <ul>
                <li><a href="gallery-2cols-filterable-fullwidth.html">Two Column Fullwidth</a></li>
                <li><a href="gallery-3cols-filterable-fullwidth.html">Three Columns Fullwidth</a></li>
                <li><a href="gallery-4cols-filterable-fullwidth.html">Four Columns Fullwidth</a></li>
                <li><a href="gallery-1col-filterable.html">One Columns Sidebar</a></li>
                <li><a href="gallery-2cols-filterable.html">Two Columns Sidebar</a></li>
                <li><a href="gallery-3cols-filterable.html">Three Columns Sidebar</a></li>
              </ul>
            </li>
            <li><a href="gallery-carousel.html">Carousel Gallery</a></li>
            <li><a href="gallery-montage.html">Montage Gallery</a></li>
          </ul>
        </li>
        <li><a href="#">Blog</a>
          <ul>
            <li><a href="blog-list.html">List Style</a></li>
            <li><a href="blog-grid.html">Grid Style</a></li>
            <li><a href="blog-list-alternate.html">Alternate Style</a></li>
            <li><a href="single.html">Single Page</a></li>
          </ul>
        </li>
        <li class="active"><a href="week-report.html">Contact</a></li>
      </ul>
    </nav>
    <!-- end menu -->
    <select id = "responsive-main-nav-menu" onchange = "javascript:window.location.replace(this.value);"></select>
  </div>
  <div class="clear"></div>
</div>
<!--WELCOME-->

<!--SITE CONTAINER-->
<div id="container">

</div>

<!--Footer-->
<a href="#" id="toTop">&uarr;</a>
<script type="text/javascript" src="js/custom.js"></script>
<script type="text/javascript" src="js/jquery.validate.js"></script>

<!--FOR PREVIEW ONLY-->
<script type="text/javascript" src="settings/styleswitch.js"></script>
<div><span class="door"><img src="settings/img/setting.png" alt="" title="" /></span></div>
<div class="options"> <span class="close"><img src="settings/img/close.png" alt="" title="" /></span>
  <h4>Background Patterns</h4>
  <ul>
    <li><a href="#" id="styles" class="styleswitch" title="pt-1" style="background-image: url('img/patterns/body-bg.png');"></a></li>
    <li><a href="#" id="styles2" class="styleswitch" title="pt-2" style="background-image: url('img/patterns/1.png');"></a></li>
    <li><a href="#" id="styles3" class="styleswitch" title="pt-3" style="background-image: url('img/patterns/2.png');"></a></li>
    <li><a href="#" id="styles4" class="styleswitch" title="pt-4" style="background-image: url('img/patterns/3.png');"></a></li>
    <li><a href="#" id="styles5" class="styleswitch" title="pt-5" style="background-image: url('img/patterns/4.png');"></a></li>
    <li><a href="#" id="styles6" class="styleswitch" title="pt-6" style="background-image: url('img/patterns/5.png');"></a></li>
    <li><a href="#" id="styles7" class="styleswitch" title="pt-7" style="background-image: url('img/patterns/6.png');"></a></li>
    <li><a href="#" id="styles8" class="styleswitch" title="pt-8" style="background-image: url('img/patterns/7.png');"></a></li>
    <li><a href="#" id="styles9" class="styleswitch" title="pt-9" style="background-image: url('img/patterns/8.png');"></a></li>
    <li><a href="#" id="styles10" class="styleswitch" title="pt-10" style="background-image: url('img/patterns/9.png');"></a></li>
    <li><a href="#" id="styles11" class="styleswitch" title="pt-11" style="background-image: url('img/patterns/10.png');"></a></li>
    <li><a href="#" id="styles12" class="styleswitch" title="pt-12" style="background-image: url('img/patterns/11.png');"></a></li>
  </ul>
  <h4>Select Color</h4>
  <ul>
    <li><a href="../blue/index.html" id="styles" class="styleswitch" title="pt-1" style="background-image: url('img/patterns/blue.png');"></a></li>
    <li><a href="../green/index.html" id="styles2" class="styleswitch" title="pt-2" style="background-image: url('img/patterns/green.png');"></a></li>
    <li><a href="../orange/index.html" id="styles3" class="styleswitch" title="pt-3" style="background-image: url('img/patterns/orange.png');"></a></li>
  </ul>
</div>
<!--ENDS HERE-->



</body>
</html>

<script>


    function loadreport(){
        $.ajax({
            url: '/weekreport/Checksession',
            type: 'POST',
            dataType: 'html',
            timeout: 1000,
            error: function(){console.log('Error loading document');},
            success: function(result){
                if(result=="true"){
                    $("#container").load("weekreport/weekreport.html");
                }else{
                    $("#container").html(result);
                }
            }
        });
    }

    $(document).ready(function(){
        $("#cform").validate();
        loadreport();
    });

    $("#confirm").live("click",function(){//登录
        $.ajax({
            url: '/weekreport/Login',
            type: 'POST',
            data:{id:$("#inputid").val(),pwd:$("#inputpwd").val()},
            dataType: 'html',
            timeout: 1000,
            error: function(){console.log('Error loading document');},
            success: function(result){
                if(result=="true"){
                    $("#container").load("weekreport/weekreport.html");
                }else{
                    $("#loaderror").show();
                }
            }
        });
    });

    $("#cancel").live("click",function(){
        $("#inputid").val("");
        $("#inputpwd").val("");
    });

    $(".change").live("mousedown",function(){
    $(".report-change-control").attr("id",$(this).parents(".one-report").attr("id"))//给修改div赋值方便post
    $.ajax({
      url: '/weekreport/Getreport',
      type: 'POST',
      data:{id:$(this).parents(".one-report").attr("id")},
      dataType: 'html',
      timeout: 1000,
      error: function(){console.log('Error loading document');},
      success: function(result){
        var obj = jQuery.parseJSON(result);
        $("#this-week-change").val(obj.thisweek);
        $("#next-week-change").val(obj.nextweek);
        $("#difficulty-change").val(obj.difficulty);
      }
    });
    $(".report-change").show();
  });

    $(".delete").live("mousedown",function(){//删除周报
        var id=$(this).parents(".one-report").attr("id");
        $.ajax({
          url: '/weekreport/Deletereport',
          type: 'POST',
          data:{reportid:id},
          dataType: 'html',
          timeout: 1000,
          error: function(){console.log('Error loading document');},
          success: function(result){
            if(result=="success"){
              var div=document.getElementById(id);
              div.remove();
            }else{
                if(result=="nosession"){
                    alert("登录超时，请重新登陆！！");
                    loadreport();
                }else{
                    alert("周报删除出错！！");
                }
            }
          }
        });
    });

    $(".reply").live("mousedown",function(){//回复
        var report=$(this).parents(".judge").prev();//todo 这样选择好像不太好
        var message=$(this).parent().prev().val();
        var reportid=report.parent().attr("id");
        $.ajax({
          url: '/weekreport/Judgeinsert',
          type: 'POST',
          data:{message:message,reportid:reportid},
          dataType: 'html',
          timeout: 1000,
          error: function(){console.log('Error loading document');},
          success: function(result){
            if(result=="success"){
              $("#"+reportid).load("/weekreport/Reloadreport",{reportid:reportid});//一个周报的重新加载

            }else{
                if(result=="nosession"){
                    alert("登录超时，请重新登陆！！");
                    loadreport();
                }else{
                    alert("评论出错！！");
                }
            }
          }
        });
    });

    $(".judge-reply").live("mousedown",function(){
        $(this).parent().next().show();
    });

    $(".reply-textarea-span").live("mousedown",function(){//回复
    var reply=$(this).parents(".replies");
    var reportid=$(this).parents(".one-report").attr("id");
    var replyname=reply.children(".replies-main").children("span").eq(0).html();
    var message=$(this).parent().prev().val();
    $.ajax({
      url: '/weekreport/Replyjudge',
      type: 'POST',
      data:{message:message,replyname:replyname,reportid:reportid},
      dataType: 'html',
      timeout: 1000,
      error: function(){console.log('Error loading document');},
      success: function(result){
        if(result=="success"){
          $("#"+reportid).load("/weekreport/Reloadreport",{reportid:reportid});//一个周报的重新加载
        }else{//todo 其他错误的提示。session什么的
            if(result=="nosession"){
                alert("登录超时，请重新登陆！！");
                loadreport();
            }else{
                alert("评论出错！！");
            }
        }
      }
    });


  });

    $(".judge-delete").live("mousedown",function(){//删除评论
    var judgeid=$(this).parents(".replies").attr("data-judgeid");
    var reportid=$(this).parents(".one-report").attr("id");
    $.ajax({
      url: '/weekreport/Deletejudge',
      type: 'POST',
      data:{judgeid:judgeid},
      dataType: 'html',
      timeout: 1000,
      error: function(){console.log('Error loading document');},
      success: function(result){
        if(result=="success"){
            $("#"+reportid).load("/weekreport/Reloadreport",{reportid:reportid});//一个周报的重新加载
        }else{
            if(result=="nosession"){
                alert("登录超时，请重新登陆！！");
                loadreport();
            }else{
                alert("删除出错！！");
            }
        }
      }
    });
  });

    $(".judge-textarea").live("input",function(){
        var input=1000-$(this).val().length;
        if(input>0)
            $(this).next().children(".can-input").html("还可输入:"+input+"个字符");
        else
            $(this).next().children(".can-input").html("已经超出:"+(-input)+"个字符");
    })


</script>
